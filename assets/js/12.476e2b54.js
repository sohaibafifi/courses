(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{356:function(e,t,s){e.exports=s.p+"assets/img/db.33b23181.png"},436:function(e,t,s){"use strict";s.r(t);var a=s(43),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"m2105-td2-introduction-a-php-avec-postgresql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m2105-td2-introduction-a-php-avec-postgresql"}},[e._v("#")]),e._v(" M2105 - TD2 : Introduction à PHP avec PostgreSQL")]),e._v(" "),a("blockquote",[a("p",[e._v("durée : 2h")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(356),alt:"Diagramme de classe du schéma film"}})]),e._v(" "),a("p",[e._v("Dans une base de données PostgreSQL, on considère le schéma film contenant les 5 tables suivantes avec leurs attributs entre parenthèse :")]),e._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("genre "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" genre"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nrealisateur "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" nom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" prenom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" datenaissance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" sexe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nfilm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" titre"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" anneesortie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" idrealisateur"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("realisateur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\ngenrefilm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" idfilm"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("film"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" idgenre"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("genre"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nrepliquescultes "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" replique"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" idfilm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("h2",{attrs:{id:"exercice-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exercice-1"}},[e._v("#")]),e._v(" Exercice 1")]),e._v(" "),a("p",[e._v("Créer la page "),a("strong",[a("code",[e._v("genre_liste.php")])]),e._v(" permettant d'afficher la liste des genres de film contenus dans la base. On supposera le serveur PostgreSQL comme étant "),a("strong",[e._v("iut-rt")]),e._v(", votre base porte le nom de votre "),a("strong",[e._v("login")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"exercice-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exercice-2"}},[e._v("#")]),e._v(" Exercice 2")]),e._v(" "),a("p",[e._v("Factoriser dans un fichier "),a("strong",[a("code",[e._v("connexion.php")])]),e._v(" la ligne relative à la connexion à la base et la ligne permettant d'exécuter les requêtes sur le schéma "),a("strong",[e._v("film")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"exercice-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exercice-3"}},[e._v("#")]),e._v(" Exercice 3")]),e._v(" "),a("p",[e._v("Modifier alors votre fichier "),a("strong",[a("code",[e._v("genre_liste.php")])]),e._v(" pour qu'il utilise le fichier "),a("strong",[a("code",[e._v("connexion.php")])]),e._v(". À quoi va servir cette factorisation ?")]),e._v(" "),a("h2",{attrs:{id:"exercice-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exercice-4"}},[e._v("#")]),e._v(" Exercice 4")]),e._v(" "),a("ol",[a("li",[e._v("Donner une requête SQL permettant d'ajouter le genre "),a("strong",[e._v("Policier")]),e._v(".")]),e._v(" "),a("li",[e._v("Dessiner un formulaire permettant l'ajout d'un genre.")]),e._v(" "),a("li",[e._v("Écrire une page simple le réalisant (uniquement la partie formulaire).")]),e._v(" "),a("li",[e._v("Écrire la page action.")])]),e._v(" "),a("h2",{attrs:{id:"sessions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sessions"}},[e._v("#")]),e._v(" Sessions")]),e._v(" "),a("p",[e._v("Au TP n°2 vous étendrez ces pages simples en utilisant les sessions, ce qui vous permettra de gérer les champs non remplis par exemple pour redemander l'information sur la page du formulaire.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Rappel")]),e._v(" "),a("p",[e._v("le mécanisme des sessions permet de garder en mémoire des informations entre les pages. En PHP on utilise la super globale "),a("strong",[a("code",[e._v("$_SESSION")])]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"exercice-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exercice-5"}},[e._v("#")]),e._v(" Exercice 5")]),e._v(" "),a("p",[e._v("(Non corrigée en TD, à faire avant TP n°2)")]),e._v(" "),a("ol",[a("li",[e._v("Donner une requête SQL permettant d'ajouter un réalisateur (vous complétez les champs nécessaire comme vous voulez)")]),e._v(" "),a("li",[e._v('Dessiner un formulaire permettant cet ajout (champs de type "text" pour nom et prénom, menus sélection pour année, mois et jour, bouton radio pour le sexe) (voir cours et TD n°1).')]),e._v(" "),a("li",[e._v("Écrire une page simple le réalisant (uniquement la partie formulaire).")]),e._v(" "),a("li",[e._v("Écrire la page action.")])])])}),[],!1,null,null,null);t.default=r.exports}}]);