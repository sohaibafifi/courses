<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>M2105 - TP1 Introduction à PHP | Cours - Sohaib LAFIFI</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.cdc477d6.css" as="style"><link rel="preload" href="/assets/js/app.379add42.js" as="script"><link rel="preload" href="/assets/js/2.53d31978.js" as="script"><link rel="preload" href="/assets/js/5.1bbfa518.js" as="script"><link rel="prefetch" href="/assets/js/10.b00f197e.js"><link rel="prefetch" href="/assets/js/11.1d29fa58.js"><link rel="prefetch" href="/assets/js/12.476e2b54.js"><link rel="prefetch" href="/assets/js/13.ca54079a.js"><link rel="prefetch" href="/assets/js/14.74993fb0.js"><link rel="prefetch" href="/assets/js/15.f48671b0.js"><link rel="prefetch" href="/assets/js/16.6d263f7c.js"><link rel="prefetch" href="/assets/js/17.cc1d39d7.js"><link rel="prefetch" href="/assets/js/18.b56ee655.js"><link rel="prefetch" href="/assets/js/19.8d81cacd.js"><link rel="prefetch" href="/assets/js/20.5b3fbf53.js"><link rel="prefetch" href="/assets/js/21.96b66c58.js"><link rel="prefetch" href="/assets/js/22.28a368d3.js"><link rel="prefetch" href="/assets/js/23.c5aba24b.js"><link rel="prefetch" href="/assets/js/24.1c779419.js"><link rel="prefetch" href="/assets/js/25.eb14d024.js"><link rel="prefetch" href="/assets/js/26.c1d78b42.js"><link rel="prefetch" href="/assets/js/27.438d75a6.js"><link rel="prefetch" href="/assets/js/28.ccd8c4ab.js"><link rel="prefetch" href="/assets/js/29.cb406640.js"><link rel="prefetch" href="/assets/js/3.ba16c78c.js"><link rel="prefetch" href="/assets/js/30.7fa71e98.js"><link rel="prefetch" href="/assets/js/31.064da601.js"><link rel="prefetch" href="/assets/js/32.dd663240.js"><link rel="prefetch" href="/assets/js/33.284d1781.js"><link rel="prefetch" href="/assets/js/34.5a7bd63d.js"><link rel="prefetch" href="/assets/js/35.933d35de.js"><link rel="prefetch" href="/assets/js/36.3a398051.js"><link rel="prefetch" href="/assets/js/37.a2b75d45.js"><link rel="prefetch" href="/assets/js/38.f68fe24c.js"><link rel="prefetch" href="/assets/js/39.9d3b3469.js"><link rel="prefetch" href="/assets/js/4.8b130817.js"><link rel="prefetch" href="/assets/js/40.3e14e6e2.js"><link rel="prefetch" href="/assets/js/41.2aabc14e.js"><link rel="prefetch" href="/assets/js/42.2c285354.js"><link rel="prefetch" href="/assets/js/43.b8ce584f.js"><link rel="prefetch" href="/assets/js/44.88201ae5.js"><link rel="prefetch" href="/assets/js/45.0dabf09d.js"><link rel="prefetch" href="/assets/js/46.9da80039.js"><link rel="prefetch" href="/assets/js/47.560a0975.js"><link rel="prefetch" href="/assets/js/48.8f6c31ae.js"><link rel="prefetch" href="/assets/js/49.07baa437.js"><link rel="prefetch" href="/assets/js/50.e5684287.js"><link rel="prefetch" href="/assets/js/51.02d3b9b0.js"><link rel="prefetch" href="/assets/js/52.d333510e.js"><link rel="prefetch" href="/assets/js/53.1706e1f4.js"><link rel="prefetch" href="/assets/js/54.027f1544.js"><link rel="prefetch" href="/assets/js/6.c59f320e.js"><link rel="prefetch" href="/assets/js/7.16699103.js"><link rel="prefetch" href="/assets/js/8.7e664057.js"><link rel="prefetch" href="/assets/js/9.7279b4c1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cdc477d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Cours - Sohaib LAFIFI</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Modules
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Modules
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">Modules</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/M2102-2/" class="sidebar-heading clickable"><span>M2102-2 : Virtualisation</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/M2105/" class="sidebar-heading clickable router-link-active open"><span>M2105 : Web dynamique</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/M2105/TD/" class="sidebar-heading clickable"><span>TD</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/M2105/TP/" class="sidebar-heading clickable router-link-active open"><span>TP</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/M2105/TP/TP1.html" class="active sidebar-link">TP1 Introduction à PHP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#objectifs" class="sidebar-link">Objectifs</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#environnement-de-travail-et-organisation-du-tp" class="sidebar-link">Environnement de travail et organisation du TP</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#une-premiere-page-de-test" class="sidebar-link">Une première page de Test</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#gestion-d-un-formulaire" class="sidebar-link">Gestion d'un formulaire</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#convertisseur-euros-dollars" class="sidebar-link">Convertisseur Euros/Dollars</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#inclusions-de-pages-php-dans-un-site" class="sidebar-link">Inclusions de pages PHP dans un site</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#interagir-avec-une-base-de-donnees-postgresql-depuis-php" class="sidebar-link">Interagir avec une base de données PostgreSQL depuis PHP</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP1.html#creation-de-votre-site-web-personnel-php-postgresql" class="sidebar-link">Création de votre site web personnel PHP/PostgreSQL</a></li></ul></li><li><a href="/M2105/TP/TP2.html" class="sidebar-link">TP2 Introduction au CMS Wordpress</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/M2105/TP/TP2.html#presentation-du-tp" class="sidebar-link">Présentation du TP</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP2.html#installation-d-un-serveur-web-php-mysql-et-de-wordpress" class="sidebar-link">Installation d'un serveur Web PHP/MySQL et de WordPress</a></li><li class="sidebar-sub-header"><a href="/M2105/TP/TP2.html#realisation-de-votre-site" class="sidebar-link">Réalisation de votre site</a></li></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/M2207/" class="sidebar-heading clickable"><span>M2207 : Consolidation des bases de la programmation (19-20)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/M3210C/" class="sidebar-heading clickable"><span>M3210C : Programmation avancée</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/M23/" class="sidebar-heading clickable"><span>M23 - Administration systèmes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/M31/" class="sidebar-heading clickable"><span>M31 - Outils informatiques</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/M36/" class="sidebar-heading clickable"><span>M36 - Services mobiles</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="m2105-tp1-introduction-a-php"><a href="#m2105-tp1-introduction-a-php" class="header-anchor">#</a> M2105 - TP1 : Introduction à PHP</h1> <blockquote><p>durée : 8h</p></blockquote> <h2 id="objectifs"><a href="#objectifs" class="header-anchor">#</a> Objectifs</h2> <ul><li>Savoir développer des pages web dynamiques simples avec le langage PHP aux standards HTML 5 et CSS 3.</li> <li>Savoir interagir avec une base PostgreSQL notamment avec des formulaires.</li></ul> <h2 id="environnement-de-travail-et-organisation-du-tp"><a href="#environnement-de-travail-et-organisation-du-tp" class="header-anchor">#</a> Environnement de travail et organisation du TP</h2> <ul><li><p>Une machine virtuelle Linux (Ubuntu) ou votre machine personnelle avec un serveur LAPP (Linux Apache PHP PostgreSQL)</p> <ul><li>un stack bitnami LAPP/WAPP est accessible <a href="https://bitnami.com/stack/lapp" target="_blank" rel="noopener noreferrer">ici pour Linux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> et <a href="https://bitnami.com/stack/wapp" target="_blank" rel="noopener noreferrer">ici pour Windows<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. À l'IUT, pour Ubuntu, le fichier d'installation a déjà été téléchargé pour vous et se trouve sur iut-rt dans le répertoire <code>/opt/donneesTP/M2105/</code> <ul><li><p>Copier le fichier sur votre machine</p> <div class="language- extra-class"><pre><code>  scp votrelogin@iut-rt:/opt/donneesTP/M2105/bitnami-lappstack* cheminSurVotreMachine
</code></pre></div></li> <li><p>Pour installer un fichier .run, il suffit de mettre les droits d'exécution dessus, puis d'exécuter le fichier.</p></li> <li><p>L'interface Bitnami se lance alors via un script (Quelque chose autour de &quot;manager-linux-x64.run&quot;) situé dans votre répertoire d'installation.</p></li></ul></li></ul></li> <li><p>Firefox est équipé de l'add-on <strong>Web Developer</strong>.</p></li> <li><p>Documentations additionnelles au cours : <a href="http://www.php.net/manual/fr/" target="_blank" rel="noopener noreferrer">Manuel PHP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>  et <a href="http://www.w3schools.com/php/default.asp" target="_blank" rel="noopener noreferrer">w3schools PHP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="une-premiere-page-de-test"><a href="#une-premiere-page-de-test" class="header-anchor">#</a> Une première page de Test</h2> <p>Vérifier votre configuration PHP en utilisant la fonction <code>strftime()</code> comme vu en cours pour obtenir la date du jour.</p> <div class="language-html extra-class"><pre class="language-html"><code>	<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Date du jour <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token prolog">&lt;?php
	   @setlocale(LC_TIME, 'fr_FR');
	   echo &quot;&lt;p&gt; Au moment de l'exécution de ce script PHP, nous sommes le &quot;.strftime('%A %d %B %Y').&quot;.&lt;/p&gt;&quot;;
	?&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>Créer une page <code>datedujour.php</code> valide W3C dont le corps du HTML (body) contient le code ci-dessous.</li> <li>Tester votre page et vérifier l'affichage de la date en français (si ce n'est pas le cas corriger le code).</li> <li>Compléter ce code pour afficher également les heures, minutes et secondes.</li> <li>Ajouter dans votre code l'affichage d'un paragraphe affichant &quot;Bonne journée !&quot;, &quot;Bon après midi !&quot;, &quot;Bonne soirée !&quot;, ou &quot;Bonne nuit.&quot; en fonction de cette heure.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>la variable <code>$h</code> étant correctement initialisée :</p> <div class="language-php extra-class"><pre class="language-php"><code>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$h</span> <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	   	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;p&gt; Bonne journée !&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> 
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></div> <h2 id="gestion-d-un-formulaire"><a href="#gestion-d-un-formulaire" class="header-anchor">#</a> Gestion d'un formulaire</h2> <p>Créer une page <code>formulaire.html</code> contenant un formulaire en charge de demander à l'utilisateur son nom (champ de type texte), son prénom (champ de type texte), son genre (bouton radio homme/femme), sa couleur préférée (menu sélection entre rouge, vert, bleu, jaune), et ses sports pratiqués (boites à cocher).</p> <blockquote><p><em><strong>Aide :</strong></em></p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code>	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token double-quoted-string string">&quot;fr&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
	    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token double-quoted-string string">&quot;utf-8&quot;</span><span class="token operator">&gt;</span>
	    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span> Formulaire <span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>	
	<span class="token operator">&lt;</span>form method<span class="token operator">=</span><span class="token double-quoted-string string">&quot;post&quot;</span> action<span class="token operator">=</span><span class="token double-quoted-string string">&quot;formulaire_action.php&quot;</span><span class="token operator">&gt;</span>
	    <span class="token operator">&lt;</span>fieldset<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>legend<span class="token operator">&gt;</span>Informations sur vous<span class="token operator">&lt;</span><span class="token operator">/</span>legend<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;nom&quot;</span><span class="token operator">&gt;</span>Nom<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">:</span>
			<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;nom&quot;</span> id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;nom&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;prenom&quot;</span><span class="token operator">&gt;</span>Prénom<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">:</span>
			<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;prenom&quot;</span> id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;prenom&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;genre&quot;</span> id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;genre&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;homme&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;homme&quot;</span><span class="token operator">&gt;</span>Homme<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;genre&quot;</span> id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;genre&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;femme&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;femme&quot;</span><span class="token operator">&gt;</span>Femme<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>Couleur préférée<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">:</span>
			<span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;couleur&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;rouge&quot;</span><span class="token operator">&gt;</span>Rouge<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;vert&quot;</span><span class="token operator">&gt;</span>Vert<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;bleu&quot;</span><span class="token operator">&gt;</span>Bleu<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;jaune&quot;</span><span class="token operator">&gt;</span>Jaune<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>Sports pratiqués<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">:</span>
				<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;checkbox&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;sports[]&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;football&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>Football
				<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;checkbox&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;sports[]&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;rugby&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>Rugby
				<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;checkbox&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;sports[]&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;golf&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>Golf
				<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;checkbox&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;sports[]&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;jogging&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>Jogging
				<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;checkbox&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;sports[]&quot;</span> value<span class="token operator">=</span><span class="token double-quoted-string string">&quot;autre&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>Autre
			<span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;soumission&quot;</span><span class="token operator">&gt;</span>Soumission<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">:</span>
			<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token double-quoted-string string">&quot;submit&quot;</span> name<span class="token operator">=</span><span class="token double-quoted-string string">&quot;soumission&quot;</span> id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;soumission&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	     <span class="token operator">&lt;</span><span class="token operator">/</span>fieldset<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>Créer la page action <code>formulaire_action.php</code> de ce formulaire en charge d'afficher une synthèse des données saisies. Par exemple Bonjour madame ou monsieur en fonction du genre saisi suivi du nom et prénom. Votre couleur préférée est ..., vous ne pratiquez aucun sport ou les sports suivants ... en fonction des cases cochés.</p> <blockquote><p><em><strong>Aide :</strong></em></p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Formulaire Action <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> 
<span class="token variable">$nom</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'nom'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$prenom</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'prenom'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$genre</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'genre'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$couleur</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'couleur'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$sports</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'sports'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;p&gt; Bonjour &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$genre</span><span class="token operator">==</span><span class="token double-quoted-string string">&quot;homme&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;monsieur &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$genre</span><span class="token operator">==</span><span class="token double-quoted-string string">&quot;femme&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;madame &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;<span class="token interpolation"><span class="token variable">$nom</span></span> <span class="token interpolation"><span class="token variable">$prenom</span></span>. Votre couleur préférée est le <span class="token interpolation"><span class="token variable">$couleur</span></span>. &quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$sports</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;Vous ne pratiquez aucun sport.&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;Vous pratiquez&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$sports</span> <span class="token keyword">as</span> <span class="token variable">$k</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$v</span><span class="token punctuation">)</span>
    	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot; le <span class="token interpolation"><span class="token variable">$v</span></span>&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;.&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>	

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="convertisseur-euros-dollars"><a href="#convertisseur-euros-dollars" class="header-anchor">#</a> Convertisseur Euros/Dollars</h2> <p>Créer une page <code>convertisseur.html</code> contenant un formulaire composé de :</p> <ul><li>une zone d'options permettant de choisir le sens de conversion que l'on désire, dollars vers euros ou l'inverse (boutons radios)</li> <li>un champ texte permettant de saisir la valeur que l'on souhaite convertir.</li></ul> <p><img src="/assets/img/convertisseur.ebee8802.png" alt="" title="convertisseur"></p> <blockquote><p><em><strong>Aide :</strong></em></p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Convertisseur <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Convertisseur Euros/Dollars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>convertisseur_action2.php<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Euros vers Dollars : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sens<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sens<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>to_dol<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Dollars vers Euros : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sens<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sens<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>to_eur<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Valeur : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>val<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>val<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Valider<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Réaliser la page <code>convertisseur_action.php</code>, l'URL action de ce formulaire, contenant un script PHP qui va convertir la valeur saisie dans le sens précisé.</p> <blockquote><p><em><strong>Aide :</strong></em></p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Convertisseur <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Convertisseur Euros/Dollars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

 <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
 	<span class="token variable">$k</span><span class="token operator">=</span><span class="token number">1.1421</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'sens'</span><span class="token punctuation">]</span><span class="token operator">==</span>to_dol<span class="token punctuation">)</span><span class="token punctuation">{</span>   
	   <span class="token variable">$init</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;euros&quot;</span><span class="token punctuation">;</span>
	   <span class="token variable">$fin</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;dollars&quot;</span><span class="token punctuation">;</span>
	 <span class="token punctuation">}</span>
	 <span class="token keyword">else</span> <span class="token punctuation">{</span>
	   <span class="token variable">$k</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span><span class="token variable">$k</span><span class="token punctuation">;</span>
	   <span class="token variable">$init</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;dollars&quot;</span><span class="token punctuation">;</span>
	   <span class="token variable">$fin</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;euros&quot;</span><span class="token punctuation">;</span>
	 <span class="token punctuation">}</span>
	 <span class="token variable">$res</span><span class="token operator">=</span><span class="token variable">$k</span><span class="token operator">*</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'val'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	 <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;p&gt;&quot;</span><span class="token punctuation">.</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'val'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot; <span class="token interpolation"><span class="token variable">$init</span></span> valent <span class="token interpolation"><span class="token variable">$res</span></span> <span class="token interpolation"><span class="token variable">$fin</span></span> &lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
 <span class="token delimiter important">?&gt;</span></span>	

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Aide</p> <p>vous pouvez allez chercher le taux sur une autre page
<code>$k=substr(strstr(file_get_contents(&quot;http://www.google.com/finance&quot;),'EUR/USD'),28,6);</code></p></div> <h2 id="inclusions-de-pages-php-dans-un-site"><a href="#inclusions-de-pages-php-dans-un-site" class="header-anchor">#</a> Inclusions de pages PHP dans un site</h2> <p>Dans cette partie partie vous allez reprendre l'habillage du site Web créé au <a href="http://www.lgi2a.univ-artois.fr/~mercier/teaching/M1106_web/M1106_tp5.html" target="_blank" rel="noopener noreferrer"><strong>TP n°5 du module M1106</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/assets/img/site_page1.59aa15e4.png" alt=""></p> <p>À la place des pages <code>page1.html</code>, <code>page2.html</code>, <code>page3.html</code>, vous allez mettre :</p> <ul><li>en premier lien du menu une page Accueil affichant la date du jour dans le bloc &quot;navcorps&quot;</li> <li>en deuxième lien une page affichant le formulaire précédent dans le bloc &quot;navcorps&quot;</li> <li>en troisième lien une page affichant le convertisseur dans le bloc &quot;navcorps&quot;</li></ul> <p>Par exemple, pour le formulaire :</p> <p><img src="/assets/img/form_site.a47f4224.png" alt=""></p> <p>Les pages d'action des formulaires gardent l'habillage du site et seront aussi affichées dans le bloc &quot;navcorps&quot;.</p> <p><img src="/assets/img/form_site_action.16927dac.png" alt=""></p> <div class="custom-block tip"><p class="custom-block-title">Aide</p> <p>Vous allez devoir utiliser la fonction PHP include
<code>&lt;?php include 'code_a_inclure.html';?&gt;</code></p></div> <p>Créer une page <code>entete.html</code> contenant le début commun à toutes les pages du site. Il sera à inclure au début de toutes les pages du site.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>site.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Mon Site <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
 
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>titre<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Le titre du Site <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>soustitre<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Quelque chose sous le titre <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>navgauche<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>accueil.php<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Accueil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form.php<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Formulaire<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>convert.php<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Convertisseur<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Créer une page <code>pieddepage.html</code> contenant le pied de page commun à toutes les pages du site. Il sera à inclure à la fin de toutes les pages du site.</p> <div class="language-php extra-class"><pre class="language-php"><code>	<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;pieddepage&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span> Blabla en bas de page <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>Toutes les pages de votre site (<code>accueil.php</code>, <code>form.php</code>, <code>form_action.php</code>, <code>convert.php</code>, <code>convert_action.php</code>) auront la forme suivante.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;entete.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>navcorps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Code de la page à complèter --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;pieddepage.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">Validation</p> <p>Appeler l'enseignant pour valider cette première étape (Obligatoire).</p></div> <h2 id="interagir-avec-une-base-de-donnees-postgresql-depuis-php"><a href="#interagir-avec-une-base-de-donnees-postgresql-depuis-php" class="header-anchor">#</a> Interagir avec une base de données PostgreSQL depuis PHP</h2> <p>Dans les données de ce TP se trouve un fichier <code>film.sql</code> permettant de créer et d'initialiser un schéma film dont le diagramme de classe est illustré sur la figure suivante.</p> <p><img src="/assets/img/film.76133d3f.png" alt=""></p> <p>Le schéma film contient les 5 tables suivantes :</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token operator">-</span> genre <span class="token punctuation">(</span>id<span class="token punctuation">,</span> genre<span class="token punctuation">)</span>
<span class="token operator">-</span> realisateur <span class="token punctuation">(</span>id<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> prenom<span class="token punctuation">,</span> datenaissance<span class="token punctuation">,</span> sexe<span class="token punctuation">)</span>
<span class="token operator">-</span> film <span class="token punctuation">(</span>id<span class="token punctuation">,</span> titre<span class="token punctuation">,</span> anneesortie<span class="token punctuation">,</span> idrealisateur<span class="token operator">=</span><span class="token operator">&gt;</span>realisateur<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">-</span> genrefilm <span class="token punctuation">(</span>id<span class="token punctuation">,</span> idfilm<span class="token operator">=</span><span class="token operator">&gt;</span>film<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> idgenre<span class="token operator">=</span><span class="token operator">&gt;</span>genre<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">-</span> repliquescultes <span class="token punctuation">(</span>id<span class="token punctuation">,</span> replique<span class="token punctuation">,</span> idfilm<span class="token punctuation">)</span>
<span class="token punctuation">`</span><span class="token punctuation">`</span>

Insérer ce schéma dans votre base de données<span class="token punctuation">,</span> puis créer la page suivante <span class="token punctuation">`</span><span class="token punctuation">`</span><span class="token punctuation">`</span>genre_liste<span class="token punctuation">.</span>php<span class="token punctuation">`</span><span class="token punctuation">`</span><span class="token punctuation">`</span> permettant d'afficher la liste des genres de film contenus dans la base<span class="token punctuation">.</span>

<span class="token punctuation">`</span><span class="token punctuation">`</span><span class="token punctuation">`</span> php
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;fr&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>meta <span class="token keyword">charset</span><span class="token operator">=</span><span class="token string">&quot;utf8&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span> Liste des genres <span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>?php
    $conn <span class="token operator">=</span> pg_connect<span class="token punctuation">(</span><span class="token string">&quot;host=  dbname=  user=  password= &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pg_query<span class="token punctuation">(</span>$conn<span class="token punctuation">,</span> <span class="token string">&quot;SET SEARCH_PATH=film,PG_CATALOG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    $result <span class="token operator">=</span> pg_query<span class="token punctuation">(</span>$conn<span class="token punctuation">,</span> <span class="token string">&quot;SELECT genre FROM genre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    echo <span class="token string">&quot;&lt;p&gt; Liste des genres : &lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
    echo <span class="token string">&quot;&lt;ul&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>$ligne <span class="token operator">=</span> pg_fetch_array<span class="token punctuation">(</span>$result<span class="token punctuation">)</span><span class="token punctuation">)</span>{
        echo <span class="token string">&quot;&lt;li&gt;&quot;</span><span class="token punctuation">.</span>$ligne<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token string">&quot;&lt;/li&gt;\n&quot;</span><span class="token punctuation">;</span>
    }
    echo <span class="token string">&quot;&lt;/ul&gt;\n&quot;</span><span class="token punctuation">;</span>

    pg_close<span class="token punctuation">(</span>$conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ?<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>Compléter la chaîne permettant la connexion à votre base et tester votre page.</p> <p>À quoi sert la ligne suivante ?</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;SET SEARCH_PATH=film,PG_CATALOG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Factoriser dans un fichier <code>connexion.php</code> la ligne relative à la connexion à la base et l'initialisation de la variable $conn et la ligne permettant d'exécuter les requêtes sur le schéma film</p> <blockquote><p>Copier ces 3 lignes dans <code>connexion.php</code> (en complétant la chaîne argument de <code>pg_connect</code>).</p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">pg_connect</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;host=  dbname=  user=  password= &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;SET SEARCH_PATH=film,PG_CATALOG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><blockquote><p>Ne mettez pas le <code>?&gt;</code> à la fin, il n'est pas obligatoire en PHP et source d'erreur pour la fonction <strong>header</strong> par exemple.</p></blockquote> <p>Modifier alors votre fichier <code>genre_liste.php</code> pour qu'il utilise le fichier <code>connexion.php</code>. À quoi va servir cette factorisation ?</p> <p>Créer une page <code>genre_tab.php</code> permettant d'afficher dans un tableau toutes les colonnes de la table genre (id, genre). Vous utiliserez un habillage de tableau similaire à celui employé au <strong>TP n°3 M1106</strong>. Vous avez le fichier <code>film.css</code> dans les données de ce TP.</p> <blockquote><p>Voir fichier <code>exemple_caddie.php</code> du cours et fonctions : <code>pg_num_rows</code>, <code>pg_num_fields</code>, <code>pg_result</code>, <code>pg_fetch_array</code>.</p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Liste des genres <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>film.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

    <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'connexion.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;SELECT * FROM genre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$nombreLignes</span> <span class="token operator">=</span> <span class="token function">pg_num_rows</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$nombreColonnes</span> <span class="token operator">=</span> <span class="token function">pg_num_fields</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token delimiter important">?&gt;</span></span>

<span class="token comment">&lt;!-- Méthode n°1 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span> Liste des genres (Méthode n°1) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$nombreLignes</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;tr&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$j</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$j</span> <span class="token operator">&lt;</span> <span class="token variable">$nombreColonnes</span><span class="token punctuation">;</span> <span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;td&gt;&quot;</span><span class="token punctuation">.</span><span class="token function">pg_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token variable">$i</span><span class="token punctuation">,</span> <span class="token variable">$j</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;&lt;/td&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;/tr&gt;\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Méthode n°2 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span> Liste des genres (Méthode n°2) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$ligne</span> <span class="token operator">=</span> <span class="token function">pg_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;tr&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$nombreColonnes</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;td&gt;&quot;</span><span class="token punctuation">.</span><span class="token variable">$ligne</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;&lt;/td&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;/tr&gt;\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/assets/img/genres_film.8e99a05d.png" alt=""></p> <p>Créer une page <code>ajout_genre.php</code> affichant dans un premier temps les genres dans un tableau suivis d'un formulaire pour l'insertion d'un nouveau genre.</p> <p><img src="/assets/img/Ajout_genre_0.8fe7c19c.png" alt=""></p> <p>Cet ajout simple peut être rendu plus sophistiqué en vérifiant que le genre n'est pas déjà présent, en faisant attention de toujours écrire les genres avec la même casse (une majuscule suivie de minuscules), en informant l'utilisateur soit de l'ajout soit d'erreur, en n'obligeant pas l'utilisateur à retaper ce qu'il avait mis dans le formulaire</p> <blockquote><p><em><strong>Aide</strong></em> : <code>ajout_genre_simple.php</code></p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> Liste des genres <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>film.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

    <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'connexion.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;SELECT * FROM genre&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$nombreLignes</span> <span class="token operator">=</span> <span class="token function">pg_num_rows</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$nombreColonnes</span> <span class="token operator">=</span> <span class="token function">pg_num_fields</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token delimiter important">?&gt;</span></span>

<span class="token comment">&lt;!-- Méthode n°1 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span> Liste des genres (Méthode n°1) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$nombreLignes</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;tr&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$j</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$j</span> <span class="token operator">&lt;</span> <span class="token variable">$nombreColonnes</span><span class="token punctuation">;</span> <span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;td&gt;&quot;</span><span class="token punctuation">.</span><span class="token function">pg_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token variable">$i</span><span class="token punctuation">,</span> <span class="token variable">$j</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;&lt;/td&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;/tr&gt;\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Méthode n°2 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span> Liste des genres (Méthode n°2) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$ligne</span> <span class="token operator">=</span> <span class="token function">pg_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;tr&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$nombreColonnes</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;td&gt;&quot;</span><span class="token punctuation">.</span><span class="token variable">$ligne</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;&lt;/td&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&lt;/tr&gt;\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ajout_genre_simple_action.php<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">&gt;</span></span> Ajout d'un nouveau genre <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>genre<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Genre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span> :
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>genre<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>genre<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ajoutgenre<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ajoutgenre<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span> Ajout <span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><em><strong>Aide :</strong></em> <code>ajout_genre_simple_action.php</code></p></blockquote> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$genre</span><span class="token operator">=</span><span class="token function">ucfirst</span><span class="token punctuation">(</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'genre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$sql</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;INSERT INTO genre(genre) VALUES &quot;</span><span class="token punctuation">;</span>
<span class="token variable">$sql</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;('<span class="token interpolation"><span class="token variable">$genre</span></span>');&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">include</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'connexion.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">pg_close</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">header</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Location: ajout_genre_simple.php&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>

</code></pre></div><blockquote><p>Pour faire cela, vous aurez besoin des éléments suivants : mécanisme des sessions (<code>$_SESSION</code>, <code>@session_start()</code>), pour mettre une chaîne avec une majuscule suivie de minuscules (<code>ucfirst(strtolower($unechaine))</code>), pour renvoyer la main à une page page.php (<code>header(&quot;Location: page.php&quot;);</code>), pour vérifier qu'une variable existe (<code>isset($variable);</code>).</p></blockquote> <h2 id="creation-de-votre-site-web-personnel-php-postgresql"><a href="#creation-de-votre-site-web-personnel-php-postgresql" class="header-anchor">#</a> Création de votre site web personnel PHP/PostgreSQL</h2> <p>Réaliser un site web personnel sur ce que vous voulez : votre page personnelle, un hobby, une association fictive ou non, ...</p> <ul><li>Le site doit comprendre au moins 3 pages dont un formulaire et son traitement.</li> <li>Les informations du site sont stockées dans une base de données PostgreSQL. Deux ou trois tables sont suffisantes pour votre site.</li> <li>Des informations issues de la base doivent être affichées sur le site.</li> <li>Des informations issues du site (formulaire) doivent pouvoir être insérées dans la base.</li> <li>Vous devez mettre en avant vos compétences PHP/postgreSQL acquises.</li></ul> <p>Barème à titre indicatif</p> <ul><li>Site (8 points) :
<ul><li>Menu et gestion des blocs (3 points) (habillage différent de celui de ce TP),</li> <li>Clarté code (respect W3C) et factorisation (4 points) En particulier : les identifiants de connexion à la base se trouvent dans un seul fichier,</li> <li>Orthographe (1 point).</li></ul></li> <li>Fonctionnalités du site pour l'insertion dans la base ou la consultation (12 points) :
<ul><li>Affichage d'informations de la base sur le site et dans un formulaire via un menu select par exemple,</li> <li>Insertion d'informations dans la base à partir du site. Prise en compte de mauvaises saisies,</li> <li>Difficulté du ou des formulaires créés (informations issues de la base dans un champ select, boutons radio, boites à cocher, ...),</li> <li>Qualité de l'affichage sur le site des informations issues de la base (tableau, liste, habillage),</li> <li>Des informations dans la base peuvent être supprimées depuis le site (delete).</li></ul></li></ul> <div class="custom-block danger"><p class="custom-block-title">INFO</p> <p>Le site sera évalué pendant la troisième séance.</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Dernière modification :</span> <span class="time">19-04-2021</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/M2105/TD/TD2.html" class="prev">
        TD2 - Introduction à PHP avec PostgreSQL
      </a></span> <span class="next"><a href="/M2105/TP/TP2.html">
        TP2 Introduction au CMS Wordpress
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.379add42.js" defer></script><script src="/assets/js/2.53d31978.js" defer></script><script src="/assets/js/5.1bbfa518.js" defer></script>
  </body>
</html>
