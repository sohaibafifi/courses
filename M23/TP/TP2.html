<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>M23 - TP2 Virtualisation | Cours - Sohaib LAFIFI</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/courses/assets/css/0.styles.eada425e.css" as="style"><link rel="preload" href="/courses/assets/js/app.bf8d756a.js" as="script"><link rel="preload" href="/courses/assets/js/2.180ed9ba.js" as="script"><link rel="preload" href="/courses/assets/js/35.d383ca86.js" as="script"><link rel="prefetch" href="/courses/assets/js/10.52417353.js"><link rel="prefetch" href="/courses/assets/js/11.78f7a5bc.js"><link rel="prefetch" href="/courses/assets/js/12.40f38af3.js"><link rel="prefetch" href="/courses/assets/js/13.503ae7ba.js"><link rel="prefetch" href="/courses/assets/js/14.23284857.js"><link rel="prefetch" href="/courses/assets/js/15.a242b32d.js"><link rel="prefetch" href="/courses/assets/js/16.9ab8a9ea.js"><link rel="prefetch" href="/courses/assets/js/17.2dbca123.js"><link rel="prefetch" href="/courses/assets/js/18.5bb7f5ed.js"><link rel="prefetch" href="/courses/assets/js/19.5cea6bf4.js"><link rel="prefetch" href="/courses/assets/js/20.7ea69ebc.js"><link rel="prefetch" href="/courses/assets/js/21.6069f67c.js"><link rel="prefetch" href="/courses/assets/js/22.c54ef07d.js"><link rel="prefetch" href="/courses/assets/js/23.4475202c.js"><link rel="prefetch" href="/courses/assets/js/24.3a874989.js"><link rel="prefetch" href="/courses/assets/js/25.328e0d28.js"><link rel="prefetch" href="/courses/assets/js/26.89b86f3b.js"><link rel="prefetch" href="/courses/assets/js/27.f1bf91ff.js"><link rel="prefetch" href="/courses/assets/js/28.873f6a69.js"><link rel="prefetch" href="/courses/assets/js/29.0c0ef93d.js"><link rel="prefetch" href="/courses/assets/js/3.1fd9eb51.js"><link rel="prefetch" href="/courses/assets/js/30.23681383.js"><link rel="prefetch" href="/courses/assets/js/31.10205a54.js"><link rel="prefetch" href="/courses/assets/js/32.f6fde6f0.js"><link rel="prefetch" href="/courses/assets/js/33.c81ba1b3.js"><link rel="prefetch" href="/courses/assets/js/34.ff1782ce.js"><link rel="prefetch" href="/courses/assets/js/36.df0f9e26.js"><link rel="prefetch" href="/courses/assets/js/37.2e0f2d8f.js"><link rel="prefetch" href="/courses/assets/js/38.35c0d2c8.js"><link rel="prefetch" href="/courses/assets/js/4.a438085c.js"><link rel="prefetch" href="/courses/assets/js/5.77565e3a.js"><link rel="prefetch" href="/courses/assets/js/6.b9b347f0.js"><link rel="prefetch" href="/courses/assets/js/7.e06d9284.js"><link rel="prefetch" href="/courses/assets/js/8.e63436e0.js"><link rel="prefetch" href="/courses/assets/js/9.d3d8ec02.js">
    <link rel="stylesheet" href="/courses/assets/css/0.styles.eada425e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/courses/" class="home-link router-link-active"><!----> <span class="site-name">Cours - Sohaib LAFIFI</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/courses/" class="nav-link">
  Modules
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/courses/" class="nav-link">
  Modules
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/courses/" class="sidebar-link">Modules</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/courses/M2102-2/" class="sidebar-heading clickable"><span>M2102-2 : Virtualisation</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/courses/M2105/" class="sidebar-heading clickable"><span>M2105 : Web dynamique</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/courses/M2207/" class="sidebar-heading clickable"><span>M2207 : Consolidation des bases de la programmation (19-20)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/courses/M23/" class="sidebar-heading clickable router-link-active open"><span>M23 - Administration systèmes</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/courses/M23/CM/" class="sidebar-heading clickable"><span>CM</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/courses/M23/TD/" class="sidebar-heading clickable"><span>TD</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/courses/M23/TP/" class="sidebar-heading clickable router-link-active open"><span>TP</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/courses/M23/TP/TP1.html" class="sidebar-link">TP1 Commandes UNIX</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#objectifs" class="sidebar-link">Objectifs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#presentation" class="sidebar-link">Présentation</a></li></ul></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#mise-en-oeuvre-des-redirections" class="sidebar-link">Mise en oeuvre des redirections</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#mise-en-oeuvre-de-la-commande-man" class="sidebar-link">Mise en oeuvre de la commande man</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#etude-de-l-arborescence-chemin-absolu-chemin-relatif-et-affichage" class="sidebar-link">Etude de l'arborescence : chemin absolu / chemin relatif et affichage</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#gestion-des-fichiers-creation-visualisation-copie-changement-et-effacement" class="sidebar-link">Gestion des fichiers : création, visualisation, copie, changement et effacement</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#notions-de-droits-et-de-propriete" class="sidebar-link">Notions de droits et de propriété</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#notion-de-processus-et-de-priorites" class="sidebar-link">Notion de processus et de priorités</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#les-filtres-simples" class="sidebar-link">Les filtres simples</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#utilisation-du-peripherique-d-impression" class="sidebar-link">Utilisation du périphérique d'impression</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#recherche-de-fichiers" class="sidebar-link">Recherche de fichiers</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#declarations" class="sidebar-link">Déclarations</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#les-parametres" class="sidebar-link">Les paramètres</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP1.html#les-structures-de-controle" class="sidebar-link">Les structures de contrôle</a></li></ul></li><li><a href="/courses/M23/TP/TP2.html" class="active sidebar-link">TP2 Virtualisation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#objectifs" class="sidebar-link">Objectifs</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#virtualbox" class="sidebar-link">Virtualbox</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#premiere-machine-virtuelle" class="sidebar-link">Première machine virtuelle</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#les-additions-invite" class="sidebar-link">Les Additions invité</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#reseau" class="sidebar-link">Réseau</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#performances-cpu" class="sidebar-link">Performances CPU</a></li></ul></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#docker" class="sidebar-link">Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP2.html#utilisation" class="sidebar-link">Utilisation</a></li></ul></li></ul></li><li><a href="/courses/M23/TP/TP3.html" class="sidebar-link">TP3 Services Réseaux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP3.html#objectifs" class="sidebar-link">Objectifs</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP3.html#outils" class="sidebar-link">Outils</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP3.html#serveur-web" class="sidebar-link">Serveur WEB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP3.html#installer-les-differents-paquetages-et-configurer-le-service-apache2-du-serveur-web" class="sidebar-link">Installer les différents paquetages et configurer le service apache2 du serveur web</a></li><li class="sidebar-sub-header"><a href="/courses/M23/TP/TP3.html#machine-lemp" class="sidebar-link">Machine LEMP</a></li></ul></li></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/courses/M36/" class="sidebar-heading clickable"><span>M36 - Services mobiles</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="objectifs"><a href="#objectifs" class="header-anchor">#</a> Objectifs</h2> <p>L'objectif de ces TPs est d'installer et utiliser virtualbox et de mettre en place des environnements isolés.</p> <h2 id="virtualbox"><a href="#virtualbox" class="header-anchor">#</a> Virtualbox</h2> <h3 id="premiere-machine-virtuelle"><a href="#premiere-machine-virtuelle" class="header-anchor">#</a> Première machine virtuelle</h3> <p>La documentation permettant l'installation de virtualbox se situe ici :
<a href="http://doc.ubuntu-fr.org/virtualbox" target="_blank" rel="noopener noreferrer">http://doc.ubuntu-fr.org/virtualbox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>La documentation de référence de virtualbox se trouve ici :
<a href="http://www.virtualbox.org/wiki/End-user_documentation" target="_blank" rel="noopener noreferrer">http://www.virtualbox.org/wiki/End-user_documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong>Travail préliminaire :</strong></p> <ol><li><p>Installez la dernière version Oracle de <strong>virtualbox</strong> ainsi que  <strong>le pack d'extension</strong>. Pour plus d'informations consulter la section 3 sur <a href="http://doc.ubuntu-fr.org/virtualbox" target="_blank" rel="noopener noreferrer">cette page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p>Pour créer une machine virtuelle, il faut spécifier à Virtualbox ses caractéristiques. Lancez Virtualbox et créez une machine virtuelle en utilisant l'interface graphique avec les paramètres suivants :</p> <ul><li>Nom : Ubuntu1</li> <li>Type : Ubuntu Linux 64 bits</li> <li>Stockage : 10G</li> <li>Pour toutes les autres options, prendre les valeurs par défaut</li></ul></li> <li><p>A partir de la commande file (faire un man pour interpréter les valeurs) et en inspectant les fichiers textes, indiquez quels fichiers ont été créés sur le disque, quel est leur type (binaire,  ascii) ainsi que leur rôle ? .</p></li> <li><p>Quelle est la taille actuelle du disque virtuel sur le disque ? Cela correspond-il au paramétrage ?</p></li> <li><p>Monter le serveur nas du département dans votre arborescence : <code>mount -t nfs rt-nas:/mnt/distvm /srv/nas</code></p></li></ol> <ul><li>Editez les paramètres de votre machine. Dans l'onglet « Stockage »,  ajoutez un disque CD/ROM virtuel pointant sur l'ISO de la dernière version de ubuntu qui se trouve sur <code>/srv/nas/</code> .  Bootez et faites une installation classique en créant un utilisateur primaire user.</li></ul> <div class="custom-block warning"><p class="custom-block-title">Images ISO</p> <p>Si vous n'êtes pas dans le réseau de l'IUT, il faut télécharger l'image ISO d'ubuntu à partir du site officiel : <a href="https://ubuntu.com/download/desktop" target="_blank" rel="noopener noreferrer">https://ubuntu.com/download/desktop<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p><em>Installer complètement une VM est aussi long qu'installer une  machine physique. En parallèle passez à la partie <a href="#docker">Docker</a>.</em></p> <h3 id="les-additions-invite"><a href="#les-additions-invite" class="header-anchor">#</a> Les Additions invité</h3> <p>Les Additions invité sont des pilotes adaptés pour les systèmes invités comme Windows ou ceux basés sur GNU/Linux qui permettent :</p> <ul><li>Un affichage graphique plus rapide (avec gestion de l'accélération 2D et 3D) et automatiquement adapté à la résolution graphique du système hôte,</li> <li>Le partage du presse-papier,</li> <li>Le partage des dossiers,</li> <li>Une capture/libération dynamique du curseur lorsque celui-ci se déplace entre système hôte et système invité.</li></ul> <p>Pour activer les Additions invité, lancez Virtualbox, puis le Système invité. Ensuite dans le menu <strong>Périphériques</strong>, cliquez sur <strong>Insérer l'image CD des Additions invité…</strong>. (La suite dépend du système invité.)</p> <p>Sur la machine invitée, installez les paquets nécésaires :</p> <div class="language- extra-class"><pre><code>sudo apt-get install build-essential  linux-headers-$(uname -r)
</code></pre></div><p>A partir du répertoire du cd monté executez la commande d'installation :</p> <div class="language- extra-class"><pre><code>sudo ./VBoxLinuxAdditions.run 
</code></pre></div><h3 id="reseau"><a href="#reseau" class="header-anchor">#</a> Réseau</h3> <p>Virtualbox permet de partager des répertoires entre la machine hôte et
la machine invité.</p> <ol><li><p>Créez un répertoire partagé à l'aide de l'interface graphique de Virtualbox pour votre machine Ubuntu1. Cochez la cache permanent mais PAS automatique car on veut ajuster les droits d'accès au répertoire.</p></li> <li><p>Montez le répertoire comme une partition externe de type vboxsf dans   le répertoire Shared de l'utilisateur de base 'user'. Est-ce que
user peut écrire dans ce répertoire. Pourquoi ?</p></li> <li><p>On veut que le montage soit automatique au démarrage. Pour cela,   modifiez /etc/fstab avec comme nom du volume, le nom donné dans l'interface Virtualbox, comme type vboxfs et comme options uid= et gid= mis aux bonnes valeurs pour l'utilisateur user (probablement 1000).</p></li> <li><p>Etudions maintenant le type d'interconnexion réseau de la machine. Nous allons maintenant comparer les performances réseaux des modes <strong>NAT</strong> et <strong>pont (bridge)</strong>.</p></li></ol> <ul><li><p>Configurez apt-get pour passer par le proxy en créant le fichier <code>/etc/apt/apt.conf.d/proxy</code> :</p> <div class="language- extra-class"><pre><code>Acquire::http::Proxy &quot;http://cache-etu.univ-artois.fr:3128/&quot;;
</code></pre></div></li></ul> <div class="custom-block danger"><p class="custom-block-title">Configuration proxy</p> <p>Cette partie est à faire uniquement au sein du réseau de l'IUT.</p></div> <ul><li>Pour faire les tests de performance, on va utiliser deux machines (une avec une connexion de type NAT et une autre en pont (avec une adresse MAC connue par le serveur dhcp, <code>08:00:27:00:03:XX</code> (XX est votre numéro) !)). Créez une nouvelle machine Ubuntu2 en faisant un  clone de la première. Mais <strong>avant</strong> installez l'outil iperf dont le manuel d'utilisation est ici <a href="http://openmaniak.com/iperf.php" target="_blank" rel="noopener noreferrer">http://openmaniak.com/iperf.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Quel est le débit obtenu en mode NAT et en mode bridge ? Quelle configuration d'iperf avez-vous utilisez ?</li></ul> <h3 id="performances-cpu"><a href="#performances-cpu" class="header-anchor">#</a> Performances CPU</h3> <p>Nous allons faire tourner un benchmark en lui faisant tester la vitesse d'excécution d'un programme de calcul de nombre premiers avec un nombre de threads variables (on le fait varier si on a plusieurs cœurs associés à l'OS) afin de comparer les performances dans la machine virtuelle et dans la machine physique.</p> <ol><li><p>Installez le benchmark sysbench (par un apt-get install classique)</p></li> <li><p>Faites tourner le benchmark en lui faisant tester la vitesse  d'excécution d'un programme effectuant 10000 calculs dans une seule thread à l'aide de la commande suivante :\</p> <div class="language- extra-class"><pre><code>sysbench --test=cpu --cpu-max-prime=10000 --num-threads=1 run | grep &quot;total time:&quot;
</code></pre></div></li> <li><p>Si il a N cœurs à sa disposition et N threads, chaque thread fera  10000/N calculs donc le temps total est divisé par N.  Comparez en les commantant les performances dans la machine    virtuelle et dans la machine physique.</p></li></ol> <h2 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h2> <h3 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h3> <p>Docker fait partie des dépôts officiels à partir d’Ubuntu. Il suffit donc d'installer le paquet <strong><code>docker.io</code></strong>. Puis démarrez le service avec : <code>systemctl start docker</code>.</p> <p>Docker cherche les images en local dans un premier temps. Si l'image n'existe pas il va alors tenter de télécharger la dernière version à partir du docker store (le hub). Puisque l'IUT utilise un proxy, il faut l’indiquer à Docker. Pour cela, il faut créer le répertoire suivant :</p> <div class="language- extra-class"><pre><code>mkdir /etc/systemd/system/docker.service.d
</code></pre></div><p>puis ajoutez le fichier <code>http-proxy.conf</code> dans ce répertoire et écrire dedans :</p> <div class="language- extra-class"><pre><code>[Service]
Environment=&quot;HTTP_PROXY=http://cache-etu.univ-artois.fr:3128/&quot;
</code></pre></div><p>Il faut ensuite redémarrer docker :</p> <div class="language- extra-class"><pre><code>systemctl daemon-reload
systemctl restart docker
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">Configuration proxy</p> <p>Cette partie est à faire uniquement au sein du réseau de l'IUT.</p></div> <h3 id="utilisation"><a href="#utilisation" class="header-anchor">#</a> Utilisation</h3> <ol><li><p>Démarrons notre premier containers <code>docker run rtbethune/debian df -Th</code>
Que se passe-t-il ?</p></li> <li><p>Un container ne reste en vie que si un processus est actif. On peut lister les containers actifs avec la commande <code>docker ps</code>. On peut aussi lister tous les containers, actifs ou
inactifs avec <code>docker ps -a</code>. Que vous retourne ces commandes et pourquoi ?</p></li> <li><p>Nous allons maintenant rediriger l’entrée standard du container avec l’option <code>-i</code> et ouvrir un pseudo-terminal avec <code>-t</code>, le tout en exécutant le processus <code>bash</code> :</p> <div class="language- extra-class"><pre><code>docker run -ti --name=debian rtbethune/debian bash
</code></pre></div><p>Quelle est la version de debian du container (tapez <code>cat /etc/os-release</code>) et la version du noyou Linux  (tapez <code>uname -a</code>)?</p></li> <li><p>Quelle est l'adresse ip du container ? Communiquer avec le système  hôte avec un <code>ping</code>.</p></li> <li><p>Créez un ficher avec <code>touch test</code> ou faites n'importe  quelle modification sur le container.</p></li> <li><p>Ouvrez un second terminal. Listez les containers actifs ? Combien y  en a-t-il ? Notez leurs <strong>ID</strong>.</p></li> <li><p>Lorsque l'on fait des modification dans un container, on peut comparer à l'image d'origine avec : <code>docker diff ID</code></p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Dernière modification :</span> <span class="time">14-09-2020</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/courses/M23/TP/TP1.html" class="prev">
        TP1 Commandes UNIX
      </a></span> <span class="next"><a href="/courses/M23/TP/TP3.html">
        TP3 Services Réseaux
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/courses/assets/js/app.bf8d756a.js" defer></script><script src="/courses/assets/js/2.180ed9ba.js" defer></script><script src="/courses/assets/js/35.d383ca86.js" defer></script>
  </body>
</html>
